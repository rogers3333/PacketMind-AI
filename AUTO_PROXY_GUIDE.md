# 🤖 PacketMind AI 自动代理抓包使用指南

## 🎯 **功能概述**

PacketMind AI 现在支持**自动代理抓包**功能！启动代理后，系统会自动配置网络代理设置，无需手动配置浏览器，所有网络流量都会自动通过 PacketMind AI 进行捕获和分析。

## 🚀 **快速开始**

### 1. **启动应用**
```bash
pnpm tauri dev
```

### 2. **启动自动代理**
- 点击"启动代理"按钮
- 系统会自动配置网络代理设置
- 状态显示"运行中"和"自动代理已启用"

### 3. **开始抓包**
- **无需手动配置浏览器代理**
- 正常浏览网页即可
- 所有 HTTP 请求都会被自动捕获

## 🔧 **自动代理工作原理**

### **macOS 系统**
- 自动调用 `networksetup` 命令
- 为所有网络接口配置 HTTP/HTTPS 代理
- 代理地址：`127.0.0.1:8080`

### **Windows 系统**
- 使用 PowerShell 修改注册表
- 设置系统级代理配置
- 自动启用代理功能

### **Linux 系统**
- 使用 `gsettings` 配置 GNOME 代理
- 设置代理模式为手动

## 📊 **抓包功能特性**

### **1. 自动捕获**
- ✅ 所有 HTTP 请求自动捕获
- ✅ 实时显示请求详情
- ✅ 支持 GET、POST、PUT、DELETE 等方法
- ✅ 记录请求头、响应头、状态码、耗时

### **2. 智能过滤**
- 🎯 域名关键词过滤
- 🎯 支持多个过滤条件
- 🎯 实时过滤显示

### **3. AI 智能分析**
- 🧠 安全风险评估
- 🧠 性能优化建议
- 🧠 异常检测
- 🧠 API 模式识别
- 🧠 数据流分析

## 🎮 **使用步骤详解**

### **步骤 1：启动应用**
```bash
# 在项目根目录执行
pnpm tauri dev
```

### **步骤 2：启动自动代理**
1. 应用启动后，点击"启动代理"按钮
2. 等待状态变为"运行中"
3. 看到"自动代理已启用"提示

### **步骤 3：验证代理配置**
- **macOS**: 系统偏好设置 → 网络 → 高级 → 代理
- **Windows**: 设置 → 网络和 Internet → 代理
- **Linux**: 系统设置 → 网络 → 网络代理

### **步骤 4：开始抓包**
1. 打开任意网页
2. 在 PacketMind AI 中查看"请求记录"
3. 所有请求都会自动显示

### **步骤 5：使用过滤功能**
1. 点击"域名过滤"按钮
2. 添加过滤关键词（如 `api`、`google`、`github`）
3. 只显示匹配的请求

### **步骤 6：AI 分析**
1. 切换到"AI 智能分析"标签页
2. 选择要分析的请求
3. 点击"智能分析"或"安全检测"
4. 查看详细的分析结果

## 🔍 **实际使用示例**

### **示例 1：API 调试**
1. 启动自动代理
2. 访问 API 接口
3. 在 PacketMind AI 中查看请求详情
4. 使用 AI 分析检测潜在问题

### **示例 2：安全测试**
1. 启动自动代理
2. 访问测试网站
3. 使用安全检测功能
4. 查看检测到的漏洞

### **示例 3：性能分析**
1. 启动自动代理
2. 正常使用应用
3. 获取 AI 洞察
4. 查看性能优化建议

## 🛠️ **高级功能**

### **1. 自定义过滤规则**
```javascript
// 支持正则表达式过滤
/api/.*          // 匹配所有 API 请求
/.*\.json$/       // 匹配所有 JSON 文件
/.*\.(css|js)$/   // 匹配 CSS 和 JS 文件
```

### **2. AI 分析配置**
- 支持多种 AI 模型
- 可配置分析深度
- 自定义安全规则

### **3. 数据导出**
- HAR 格式导出
- JSON 格式导出
- CSV 格式导出

## ⚠️ **注意事项**

### **权限要求**
- **macOS**: 需要管理员权限修改网络设置
- **Windows**: 需要管理员权限修改注册表
- **Linux**: 需要适当的系统权限

### **网络影响**
- 启动代理后，所有网络流量都会通过 PacketMind AI
- 停止代理后，系统会自动恢复原始网络设置
- 建议在测试环境中使用

### **性能考虑**
- 代理会增加少量网络延迟
- 大量请求可能影响性能
- 建议定期清空请求记录

## 🔧 **故障排除**

### **常见问题**

1. **代理无法启动**
   - 检查端口 8080 是否被占用
   - 确保有足够的系统权限
   - 重启应用重试

2. **自动配置失败**
   - 检查系统权限
   - 手动配置浏览器代理
   - 查看应用日志

3. **抓包无数据**
   - 确认代理已启动
   - 检查网络连接
   - 验证代理配置

### **手动配置代理**
如果自动配置失败，可以手动设置：
- **HTTP 代理**: `127.0.0.1:8080`
- **HTTPS 代理**: `127.0.0.1:8080`

## 🎉 **使用技巧**

### **1. 高效抓包**
- 使用域名过滤减少干扰
- 定期清空记录保持性能
- 利用 AI 分析快速定位问题

### **2. 安全测试**
- 重点关注敏感数据请求
- 使用安全检测功能
- 分析异常请求模式

### **3. 性能优化**
- 监控慢速请求
- 分析响应时间
- 获取优化建议

## 📈 **未来功能**

- [ ] HTTPS 支持
- [ ] 实时 AI 分析
- [ ] 自定义 AI 模型
- [ ] 批量分析功能
- [ ] 导出分析报告
- [ ] 移动端支持

---

**PacketMind AI** - 让网络流量分析更智能！🚀

现在您可以享受完全自动化的抓包体验，无需手动配置，一键启动即可开始智能分析！
